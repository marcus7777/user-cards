<link rel="import" href="../paper-dialog/paper-dialog.html">
<link rel="import" href="../paper-button/paper-button.html">
<link rel="import" href="../paper-input/paper-textarea.html">
<!-- 
`<cards-input on-add-badge="addcards"></cards-input>`
-->
<dom-module id="cards-input">
  <template>
    <paper-button on-tap="add">Add</paper-button>
    <paper-dialog>
      Card:
      <paper-textarea value="{{cardsQ::change}}" label="Question"></paper-textarea>
      <paper-textarea value="{{cardsA::change}}" label="Answer"></paper-textarea>
      <div class="buttons">
        <paper-button dialog-confirm on-tap="_add">Add</paper-button>
        <paper-button dialog-dismiss>Cancel</paper-button>
      </div>
    </paper-dialog>
  </template>
</dom-module>
<script>
  Polymer({
    is: 'cards-input',
    // Listen for ENTER key
    _checkAdd: function(e) {
      if (e.keyCode === 13) {
        this._add();
      }
    },
    _add: function() {
      if (this.cardsQ) {
        this.fire('add-cards', {
          Q: this.cardsQ,
          A: this.cardsA
        });
        this.cardsQ = null;
        this.cardsA = null;
        this.$$('paper-dialog').close();
      }
    },
    add: function() {
      this.$$('paper-dialog').open();
    }
  });
</script>
