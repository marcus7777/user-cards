<link rel="import" href="../paper-button/paper-button.html">
<link rel="import" href="../paper-input/paper-input.html">
<link rel="import" href="../paper-material/paper-material.html">
<link rel="import" href="../iron-image/iron-image.html">
<link rel="import" href="../paper-dialog/paper-dialog.html">
<!--
`<cards-item style="display:block" cards="{{item}}"></cards-item>`
-->
<dom-module id="cards-item">
  <template>
      <paper-material style="height:117px;background:#fff;padding:20px;margin:5px;max-width:250px">
        <a href="[[cards.url]]" title="[[cards.value]]">
          <div>
            <paper-ripple></paper-ripple>
            <div class="body1" style="float: left;width:150px">
              <h3>[[cards.value]]</h3>
              <span>[[cards.title]]</span>
            </div>
            <iron-image sizing="contain" src="[[cards.image]]" style="float: right;width:100px; height:100px;"></iron-image>
          </div>
        </a>
        <template is="dom-if" if="{{edit}}">
          <paper-dialog modal style="width: 400px;">
            <paper-input value="{{cards.image::change}}" label="Image"></paper-input>
            <paper-input value="{{cards.title::change}}" label="Title"></paper-input>
            <paper-input value="{{cards.type::change}}" label="Type"></paper-input>
            <paper-input value="{{cards.url::change}}" label="URL"></paper-input>
            <paper-input value="{{cards.value::change}}" label="Value"></paper-input>
            <div class="buttons">
              <paper-button dialog-dismiss on-tap="_onDelete" style="background: #FF5722;color: #FFF;">Delete</paper-button>
              <paper-button dialog-dismiss style="color: #333">done</paper-button>
            </div>
          </paper-dialog>
          <paper-button on-tap="_edit" style="position:absolute;right:-20px;top:0"><iron-icon icon="create"></iron-icon></paper-button>
        </template>
      </paper-material>

  </template>
</dom-module>
<script>
  Polymer({
    is: 'cards-item',
    _onDelete: function() {
      this.fire('delete-card', {cards: this.cards});
    },
    properties: {
      edit:{type: Boolean, value: false},
      cards: {notify: true}
    }, 
    _edit: function() {
      this.$$('paper-dialog').open()
    }
  });
</script>
