<link rel="import" href="cards-list.html">
<link rel="import" href="cards-input.html">
<link rel="import" href="../paper-button/paper-button.html">
<link rel="import" href="../mediator-data/mediator-data.html">
<!--
`<cards-view location="[[location]]" edit="{{edit}}" folder="[[cardsFolder]]" default-folder="{{cardsDefaultFolder}}" edit-default="{{editDefault}}"></cards-view>`
-->

<dom-module id="cards-view">
  <template>
    <mediator-data id="c" as-array="{{cards}}" location="{{location}}" folder="[[folder]]" default-folder="{{defaultFolder}}"></mediator-data>
    <cards-list edit="[[edit]]" edit-default="[[editDefault]]" cards="{{cards}}" on-delete-cards="deletecardsQuestion"></cards-list>
    <template is="dom-if" if="{{editDefault}}">
      Add:
      <cards-input on-add-cards="addcardsQuestion"></cards-input>
    </template>
  </template>
</dom-module>
<script>
  Polymer({
    is: "cards-view",
    properties: {
      cards: Array,
      edit: Boolean,
      editDefault: Boolean
    },
    addcardsQuestion: function(e) {
      this.$.c.push({
        question: e.detail.Q,
        answer: e.detail.A
      });
    },
    deletecardsQuestion: function(e) {
      this.arrayDelete('cards', e.detail.cardsQuestion); //TODO e.detail.??
    },
    toggleView: function() {
      if (this.edit) this.admin = !this.admin;
    }
  });
</script>
